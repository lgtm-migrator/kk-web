---
slug: "/blog/20210518"
date: "2021-05-18"
title: "Q. コンポーネント設計って誰がやるべきなの？"
---

先日とあるミーティングに参加させていただきまして。

フロントエンドディベロッパーの方よりいくつか質問をいただいたので、その内容を書き残しておこうと思います。

---

## Q. Atomic Design ってあらゆるケースで導入したほうがいいの？

A. ケースバイケースなので、求められる仕様によって導入を考えましょう

Atomic Design は比較的シンプルなデザインに最適なデザインシステムです。

そのため 1 枚ペラのランディングページや、1 画面にたくさんの機能が盛り込まれたケースではあまり最適でありません。

[Pattern Lab](https://demo.patternlab.io/) を基準として考えてみるのが良いと思います。

## Q. Presentational Components では state を扱っていいの？

A. ui にのみ関わるものなら OK です

[Dan Abramov の記事](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0) には以下のように書かれてますね。

> Rarely have their own state (when they do, it’s UI state rather than data).

`独自の状態になることはめったにありません（ある場合は、データではなく UI の状態です）。` （Google 翻訳）

悩んだら全部 Container Components に寄せちゃっても良いと個人的には思います。

## Q. コンポーネント設計って誰がやるべきなの？

A. Web デザイナーです

[プロトタイピングツールにコンポーネントの機能](https://help.figma.com/hc/en-us/articles/360038662654-Guide-to-Components-in-Figma) がある以上、Web デザイナーがやるべきに決まっています。

Web デザイナーが在籍しているのにフロントエンドディベロッパーがコンポーネント設計をするというのは普通に考えておかしいです、どう考えてもプロトタイプとの整合性が取れなくなります。

Web デザイナーの方にはしっかりとコンポーネント設計を理解してもらいたいです。

## Q. Web デザイナーがいない場合は Atomic Design は導入しないほうがいいの？

A. ケースバイケースですが、そんなことはないです

Web デザイナーが在籍しないプロジェクトであれば、むしろ Atomic Design は導入したほうが有用なケースのほうが多いと思います。

Atomic Design 以外のコンポーネント設計（つまりデザインシステム）を知っているのであれば、それでも良いと思いますが。

自分は Atomic Design 以外知らないので、独自のやり方とかを導入するのはリスキーすぎると考えます。

## Q. Redux の connect は Presentational Components で行っていいの？

A. ダメです、Container Components に限定しましょう

Presentational and Container Components の考え方に沿って開発を行うと決めた以上はきちんとルールに沿いましょう。

GraphQL や動的なデータを扱う Hooks でも同様です。

とくに Hooks についてはネストが深くなるため、フォルダーをわけるなどして動的なデータを扱うか否かひと目でわかる状態を作っておくことが重要です。

## Q. Storybook って導入したほうがいいの？

A. もちろん導入したほうが良いですが、コンポーネント設計などが破綻しているケースでは導入しないほうが無難です

仮に Storybook に Api を関わらせないのであれば、理論上は Atomic Design の Templates 　以下のすべてのコンポーネントに、Presentational Components のすべてのコンポーネントに導入が可能です。

個人的に Storybook には Api を関わらせたくない、つまり動的なデータを扱わせたくないです。

Storybook に Redux や動的なデータを扱う hooks が絡んでくるとめんどくさいですし、そっちにやたら時間を取られるのがイヤですね。

## Q. 素の JavaScript で書いた Redux 周りに対しあとから TypeScript を反映するのってやめたほうが良いですか？

A. 個人的にはやめたほうが良いと思います

素の JavaScript で書かれた Redux 周りは基本的に型周りがボロボロです。

直すのは諦めたほうが無難かなと。

---

そんな感じです、いかがでしょうか。

言わずもがなですが、上に書いたことはすべて現時点での個人の見解です。

なにもかも鵜呑みにするのはやめましょう。

自分はどうなっても責任は持てませんし、あとから自分の考えが変わることもしょっちゅうあります。

それでもどなたかのお力になれれば幸いです。
